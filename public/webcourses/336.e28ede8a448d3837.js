"use strict";(self.webpackChunkwebcourses_ngx=self.webpackChunkwebcourses_ngx||[]).push([[336],{9336:(S,c,i)=>{i.r(c),i.d(c,{DashboardModule:()=>O});var a=i(6895),u=i(2216),l=i(6652),g=i(5845),h=i(2687),p=i(658),t=i(5062),Z=i(529),f=i(1665);let m=(()=>{class e{constructor(s,n){this.httpClient=s,this.configService=n}recentCodeUses(){return this.httpClient.get(`${this.configService.params.api.route}/admin/system/recent-code-uses`).pipe(s=>s)}recentLogins(){return this.httpClient.get(`${this.configService.params.api.route}/admin/system/recent-logins`).pipe(s=>s)}publisherInterest(){return this.httpClient.get(`${this.configService.params.api.route}/admin/system/publisher-interest`).pipe(s=>s)}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(Z.eN),t.LFG(f.E))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var v=i(8208),b=i(7531),A=i(7475);function U(e,r){if(1&e&&(t.TgZ(0,"div",26)(1,"div",27),t._UZ(2,"img",28),t.TgZ(3,"div",29),t._uU(4),t.qZA(),t.TgZ(5,"div",29),t._UZ(6,"span",30),t.ALo(7,"lowercase"),t.TgZ(8,"span",31),t._uU(9),t.ALo(10,"date"),t.qZA()()()()),2&e){const s=r.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("src",n.gravatarMd5Service.gravatarMD5src(s.email),t.LSH)("size",50),t.xp6(2),t.AsE("",s.email," (",s.login_count,")"),t.xp6(2),t.Gre("fi fi-",t.lcZ(7,8,s.country)," rounded border mr-2"),t.xp6(3),t.Oqu(t.xi3(10,10,s.updated_at,"E d MMM H:mm"))}}function T(e,r){if(1&e&&(t.TgZ(0,"div",24),t.YNc(1,U,11,13,"div",25),t.qZA()),2&e){const s=r.ngIf;t.Q6J("@fadeInOut",void 0),t.xp6(1),t.Q6J("ngForOf",s)}}function _(e,r){1&e&&(t.TgZ(0,"div",32),t._UZ(1,"app-loading-spinner"),t.qZA())}function x(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",34),t._uU(2),t.qZA(),t.TgZ(3,"td",35),t._uU(4),t._UZ(5,"br"),t.TgZ(6,"span",36),t._uU(7),t.ALo(8,"date"),t.qZA()(),t.TgZ(9,"td",37),t._uU(10),t._UZ(11,"br"),t.TgZ(12,"span",36),t._uU(13),t.ALo(14,"number"),t.qZA()()()),2&e){const s=r.$implicit;t.xp6(2),t.Oqu(s.cid),t.xp6(2),t.hij(" ",s.label,""),t.xp6(3),t.Oqu(t.xi3(8,6,s.updated_at,"E d MMM H:mm")),t.xp6(3),t.AsE(" ",s.uses," / ",s.uses_max,""),t.xp6(3),t.hij("",t.xi3(14,9,s.uses/s.uses_max*100,"1.0-1"),"% USED")}}function q(e,r){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,x,15,12,"tr",33),t.qZA()),2&e){const s=r.ngIf;t.Q6J("@fadeInOut",void 0),t.xp6(1),t.Q6J("ngForOf",s)}}function y(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"span",30),t.ALo(7,"lowercase"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"json"),t.qZA()()),2&e){const s=r.$implicit;t.xp6(2),t.Oqu(s.user.id),t.xp6(2),t.Oqu(s.user.email),t.xp6(2),t.Gre("fi fi-",t.lcZ(7,7,s.user.country)," rounded border mr-2"),t.xp6(3),t.Oqu(t.xi3(10,9,s.user.created_at,"E d MMM H:mm")),t.xp6(3),t.Oqu(t.lcZ(13,12,s.user.user_roles))}}function L(e,r){if(1&e&&(t.TgZ(0,"div")(1,"div",6)(2,"div",5)(3,"div",38),t._uU(4," Users interested in the web course builder "),t.qZA(),t.TgZ(5,"table",39)(6,"thead")(7,"tr")(8,"th",18),t._uU(9,"ID"),t.qZA(),t.TgZ(10,"th",18),t._uU(11,"Email"),t.qZA(),t.TgZ(12,"th",18),t._uU(13,"Country"),t.qZA(),t.TgZ(14,"th",18),t._uU(15,"Member since"),t.qZA(),t.TgZ(16,"th",18),t._uU(17,"Level of interest*"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,y,14,14,"tr",33),t.qZA()(),t.TgZ(20,"div",38),t._uU(21," * Level of interest "),t.qZA(),t.TgZ(22,"table",39)(23,"thead")(24,"th",18),t._uU(25,"ID"),t.qZA(),t.TgZ(26,"th",18),t._uU(27,"Definition"),t.qZA()(),t.TgZ(28,"tbody")(29,"tr")(30,"td"),t._uU(31,"2"),t.qZA(),t.TgZ(32,"td"),t._uU(33,"Existing publisher"),t.qZA()(),t.TgZ(34,"tr")(35,"td"),t._uU(36,"4"),t.qZA(),t.TgZ(37,"td"),t._uU(38,"Interested"),t.qZA()(),t.TgZ(39,"tr")(40,"td"),t._uU(41,"5"),t.qZA(),t.TgZ(42,"td"),t._uU(43,"Requested access"),t.qZA()(),t.TgZ(44,"tr")(45,"td"),t._uU(46,"6"),t.qZA(),t.TgZ(47,"td"),t._uU(48,"Subscribed to builder news"),t.qZA()()()()()()()),2&e){const s=r.ngIf;t.xp6(19),t.Q6J("ngForOf",s)}}const C=[{path:"",component:(()=>{class e{constructor(s,n,o){this.dashboardService=s,this.userService=n,this.gravatarMd5Service=o,this.faRepeat=h.jHE,this.recentCodeUses$=this.dashboardService.recentCodeUses(),this.recentLogins$=this.dashboardService.recentLogins(),this.publisherInterest$=this.dashboardService.publisherInterest(),this.lastRefresh=new Date,this.lastLatestLoginsRefresh=new Date}refresh(){this.recentCodeUses$=this.dashboardService.recentCodeUses(),this.lastRefresh=new Date}refreshLatestLogins(){this.recentLogins$=this.dashboardService.recentLogins(),this.lastLatestLoginsRefresh=new Date}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(m),t.Y36(v.K),t.Y36(b.u))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:48,vars:18,consts:[["id","fullMainContent",1,"container","mb-5"],[1,"row","border","border-secondary","rounded-lg",2,"background-color","lightslategray"],[1,"col","text-center"],["src","assets/starfleet.png",1,"my-3"],[1,"row","my-3"],[1,"col"],[1,"row"],[1,"col-12","col-lg-6","py-4"],[1,"h3","text-uppercase"],["type","button",1,"btn","btn-link","btn-sm","ml-3",3,"click"],[1,"text-primary","mr-2",3,"icon"],["class","container-fluid",4,"ngIf","ngIfElse"],["LoadingSpinner",""],[1,"d-block","my-auto"],[1,"h3","text-uppercase","d-inline-block"],["type","button",1,"btn","btn-link","btn-sm","float-right",3,"click"],[1,"table","table-sm"],["scope","col",1,"text-center"],["scope","col"],["scope","col",1,"text-right"],[4,"ngIf","ngIfElse"],[1,"py-1"],[1,"text-secondary","text-uppercase","float-right","small"],[4,"ngIf"],[1,"container-fluid"],["class","font-weight-normal row my-2",4,"ngFor","ngForOf"],[1,"font-weight-normal","row","my-2"],[1,"col","px-0"],["ngxGravatar","",1,"mr-3","pull-left",3,"src","size"],[1,"d-block"],[2,"line-height",".9rem"],[1,"text-secondary","text-uppercase","small"],[1,"text-center","d-block"],[4,"ngFor","ngForOf"],[1,"text-center","align-middle"],[1,"h6","font-weight-normal"],[1,"text-uppercase","text-secondary","font-weight-light","small"],[1,"text-right","align-middle","h6","font-weight-normal"],[1,"h3","text-uppercase","d-inline-block","mt-4","mb-2"],[1,"table","table-striped"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5),t._uU(6,"0 publishers"),t.qZA(),t.TgZ(7,"div",5),t._uU(8,"0 courses"),t.qZA(),t.TgZ(9,"div",5),t._uU(10,"0 activities"),t.qZA(),t.TgZ(11,"div",5),t._uU(12,"0 user completed activities"),t.qZA()(),t.TgZ(13,"div",6)(14,"div",7)(15,"div",8),t._uU(16,"Latest logins "),t.TgZ(17,"button",9),t.NdJ("click",function(){return o.refreshLatestLogins()}),t._UZ(18,"fa-icon",10),t._uU(19,"Refresh "),t.qZA()(),t.YNc(20,T,2,2,"div",11),t.ALo(21,"async"),t.YNc(22,_,2,0,"ng-template",null,12,t.W1O),t.qZA(),t.TgZ(24,"div",7)(25,"div",13)(26,"div",14),t._uU(27," Latest access-code uses "),t.qZA(),t.TgZ(28,"button",15),t.NdJ("click",function(){return o.refresh()}),t._UZ(29,"fa-icon",10),t._uU(30,"Refresh "),t.qZA()(),t.TgZ(31,"table",16)(32,"thead")(33,"tr")(34,"th",17),t._uU(35,"ID"),t.qZA(),t.TgZ(36,"th",18),t._uU(37,"Label"),t.qZA(),t.TgZ(38,"th",19),t._uU(39,"Uses"),t.qZA()()(),t.YNc(40,q,2,2,"tbody",20),t.ALo(41,"async"),t.qZA(),t.TgZ(42,"div",21)(43,"span",22),t._uU(44),t.ALo(45,"date"),t.qZA()()()(),t.YNc(46,L,49,1,"div",23),t.ALo(47,"async"),t.qZA()),2&n){const d=t.MAs(23);t.Q6J("@fadeInOut",void 0),t.xp6(18),t.Q6J("icon",o.faRepeat),t.xp6(2),t.Q6J("ngIf",t.lcZ(21,9,o.recentLogins$))("ngIfElse",d),t.xp6(9),t.Q6J("icon",o.faRepeat),t.xp6(11),t.Q6J("ngIf",t.lcZ(41,11,o.recentCodeUses$))("ngIfElse",d),t.xp6(4),t.Oqu(t.xi3(45,13,o.lastRefresh,"E H:mm:ss")),t.xp6(2),t.Q6J("ngIf",t.lcZ(47,16,o.publisherInterest$))}},dependencies:[a.sg,a.O5,u.BN,l.yV,A.g,a.Ov,a.i8,a.Ts,a.JJ,a.uU],data:{animation:[p.t]}})}return e})()}];let D=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(C),g.Bz]})}return e})();var I=i(3630);let O=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[a.ez,u.uH,l.rf,D,I.z]})}return e})()}}]);