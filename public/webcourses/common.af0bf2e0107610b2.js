"use strict";(self.webpackChunkwebcourses_ngx=self.webpackChunkwebcourses_ngx||[]).push([[592],{7628:(g,u,t)=>{t.d(u,{j:()=>p});var a=t(6895),e=t(5062),i=t(923);function l(o,v){if(1&o){const r=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._UZ(3,"i",13),e.qZA(),e.TgZ(4,"div",14)(5,"p",15),e._uU(6," Do you really want to delete"),e._UZ(7,"br"),e.TgZ(8,"span",16),e._uU(9),e.qZA()(),e.TgZ(10,"form",17)(11,"input",18),e.NdJ("change",function(){e.CHM(r);const _=e.oxw();return e.KtG(_.deleteLock=!_.deleteLock)}),e.qZA(),e.TgZ(12,"label",19)(13,"span",16),e._uU(14,"Yes, "),e.qZA(),e._uU(15," I really wish to delete the "),e.TgZ(16,"span",20),e._uU(17),e.qZA(),e._uU(18," course. "),e.qZA()()()()()}if(2&o){const r=e.oxw();e.xp6(9),e.Oqu(r.deleteCourseService.course.title),e.xp6(8),e.Oqu(r.deleteCourseService.course.title)}}function n(o,v){if(1&o&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",21),e._UZ(3,"i",22),e.qZA(),e.TgZ(4,"div",23),e._uU(5," The "),e.TgZ(6,"span",16),e._uU(7),e.qZA(),e._uU(8," course has students. It cannot be deleted. "),e.qZA()()()),2&o){const r=e.oxw();e.xp6(7),e.Oqu(r.deleteCourseService.course.title)}}let f=(()=>{class o{constructor(r,c){this.ngbActiveModal=r,this.deleteCourseService=c,this.deleteLock=!0}get hasStudents(){return 0!==this.deleteCourseService.course.total_students}static#e=this.\u0275fac=function(c){return new(c||o)(e.Y36(i.Kz),e.Y36(p))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["wngx-delete-course"]],standalone:!0,features:[e.jDz],decls:15,vars:4,consts:[[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","container",4,"ngIf","ngIfElse"],["unavailable",""],[1,"modal-footer"],["type","button",1,"btn","btn-primary","mx-2",3,"click"],["type","button",1,"btn","btn-danger","mx-2",3,"disabled","ngClass","click"],[1,"container"],[1,"row"],[1,"col-auto","mt-3"],[1,"fa-solid","fa-triangle-exclamation","fa-beat","fa-2xl","text-danger","mt-3"],[1,"col"],[1,"lead"],[1,"font-weight-bold"],[1,"container","m-1"],["type","checkbox","id","confirmation",1,"form-check-input",3,"change"],["for","confirmation"],[1,"font-italic"],[1,"col-auto","my-auto"],[1,"fa-solid","fa-ban","fa-2xl","text-warning"],[1,"col","my-auto","lead"]],template:function(c,_){if(1&c&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Danger zone"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return _.ngbActiveModal.dismiss("Cross click")}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",4),e.YNc(7,l,19,2,"div",5),e.YNc(8,n,9,1,"ng-template",null,6,e.W1O),e.qZA(),e.TgZ(10,"div",7)(11,"button",8),e.NdJ("click",function(){return _.ngbActiveModal.close("Abort click")}),e._uU(12," Abort "),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return _.deleteCourseService.deleteCourse()}),e._uU(14," Delete "),e.qZA()()),2&c){const h=e.MAs(9);e.xp6(7),e.Q6J("ngIf",!_.hasStudents)("ngIfElse",h),e.xp6(6),e.Q6J("disabled",_.deleteLock)("ngClass",_.hasStudents?"d-none":"")}},dependencies:[a.O5,a.mk]})}return o})();var d=t(529),s=t(5845),m=t(1665);let p=(()=>{class o{constructor(r,c,_,h){this.ngbModal=r,this.httpClient=c,this.router=_,this.configService=h}deleteCourseModal(r){this.course=r,this.ngbModal.open(f,{size:"md",centered:!0})}deleteCourse(){this.httpClient.delete(`\n      ${this.configService.params.api.route}/admin/publisher/courses/${this.course.id}`).subscribe(r=>{if(r){let c=document.getElementById("course-id-"+this.course.id);c?c.parentNode.removeChild(c):this.router.navigate(["/admin","publisher","courses"])}},r=>{console.log(r)},()=>{this.ngbModal.dismissAll()})}static#e=this.\u0275fac=function(c){return new(c||o)(e.LFG(i.FF),e.LFG(d.eN),e.LFG(s.F0),e.LFG(m.E))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},2320:(g,u,t)=>{t.d(u,{G:()=>d});var a=t(6498),e=t(5062),i=t(2518),l=t(8208),n=t(6895);function f(s,m){if(1&s&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._UZ(3,"img",4),e.qZA(),e.TgZ(4,"div",3)(5,"div",5),e._uU(6),e.qZA(),e.TgZ(7,"div",6),e._uU(8,"Thank you for publishing at Cultivate Learning"),e.qZA()()()()),2&s){const p=m.ngIf,o=e.oxw();e.Q6J("@fadeInOut",void 0),e.xp6(3),e.MGl("src","publisher-files/",p.id,"/theme/logo.png",e.LSH),e.xp6(3),e.AsE("",p.name," ",o.title,"")}}let d=(()=>{class s{constructor(p,o){this.publisherService=p,this.userService=o,this.publisher$=new a.y}ngOnInit(){this.publisher$=this.publisherService.getPublisher(this.userService.user.id)}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(i.p),e.Y36(l.K))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-header"]],inputs:{title:"title"},decls:2,vars:3,consts:[["class","container border",4,"ngIf"],[1,"container","border"],[1,"row","d-flex","justify-content-center","my-auto"],[1,"col-auto","py-3","my-auto"],["alt","",1,"mr-4","img-fluid",2,"max-height","6rem",3,"src"],[1,"lead"],[1,"text-secondary"]],template:function(o,v){1&o&&(e.YNc(0,f,9,4,"div",0),e.ALo(1,"async")),2&o&&e.Q6J("ngIf",e.lcZ(1,1,v.publisher$))},dependencies:[n.O5,n.Ov]})}return s})()},7282:(g,u,t)=>{t.d(u,{O:()=>i});var a=t(6895),e=t(5062);let i=(()=>{class l{static#e=this.\u0275fac=function(d){return new(d||l)};static#t=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({imports:[a.ez]})}return l})()},4746:(g,u,t)=>{t.d(u,{N:()=>e});var a=t(5062);let e=(()=>{class i{constructor(){}coverImage(n){return"default"===n.cover?"assets/cl-logo.png":`publisher-files/${n.publisher_id}/courses/${n.id}/images/${n.cover}`}static#e=this.\u0275fac=function(f){return new(f||i)};static#t=this.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},2518:(g,u,t)=>{t.d(u,{p:()=>l});var a=t(5062),e=t(529),i=t(1665);let l=(()=>{class n{constructor(d,s){this.http=d,this.config=s}getPublisher(d,s){return this.http.get(`\n      ${this.config.params.api.route}/publisher/profile/${d}\n    `).pipe(m=>m)}static#e=this.\u0275fac=function(s){return new(s||n)(a.LFG(e.eN),a.LFG(i.E))};static#t=this.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},7475:(g,u,t)=>{t.d(u,{g:()=>l});var a=t(2687),e=t(5062),i=t(2216);let l=(()=>{class n{constructor(){this.faSpinner=a.LM3}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-loading-spinner"]],decls:2,vars:3,consts:[["id","fullMainContent",1,"text-center","my-3"],[1,"wcng-spinner",3,"icon","pulse","spin"]],template:function(s,m){1&s&&(e.TgZ(0,"div",0),e._UZ(1,"fa-icon",1),e.qZA()),2&s&&(e.xp6(1),e.Q6J("icon",m.faSpinner)("pulse",!0)("spin",!0))},dependencies:[i.BN],styles:[".wcng-spinner[_ngcontent-%COMP%]{font-size:48px;color:#f5f5f5}.dark[_ngcontent-%COMP%]{color:#6b7075}"]})}return n})()},3630:(g,u,t)=>{t.d(u,{z:()=>l});var a=t(6895),e=t(2216),i=t(5062);let l=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=i.oAB({type:n});static#n=this.\u0275inj=i.cJS({imports:[a.ez,e.uH]})}return n})()}}]);