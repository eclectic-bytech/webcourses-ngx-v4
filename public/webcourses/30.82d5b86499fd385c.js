"use strict";(self.webpackChunkwebcourses_ngx=self.webpackChunkwebcourses_ngx||[]).push([[30],{4030:(N,v,s)=>{s.r(v),s.d(v,{StudentsModule:()=>O});var a=s(6895),d=s(5845),h=s(2216),p=s(4850),Z=s(2687),_=s(658),t=s(5062),S=s(9663),A=s(529),T=s(1665);let f=(()=>{class n{constructor(e,o){this.httpClient=e,this.configService=o,this.selectedGroup=0}getCourseProgress(e){return this.httpClient.get(`${this.configService.params.api.route}/publisher/admin/course/students/index.php?cid=`+e).pipe(o=>o)}getCourseStudentsGroups(e){return this.httpClient.get(`${this.configService.params.api.route}/publisher/admin/course/students/groups/index.php?cid=`+e).pipe(o=>o)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(A.eN),t.LFG(T.E))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var c=s(4006),C=s(8418);let J=(()=>{class n{transform(e,o){return e.filter(function(l){if(l.gid===+o||!l.gid&&0==+o)return l})}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275pipe=t.Yjl({name:"filter",type:n,pure:!0})}return n})();function y(n,r){if(1&n&&(t.TgZ(0,"small",26),t._uU(1),t.qZA()),2&n){const e=r.ngIf;t.xp6(1),t.Oqu(e[0].title)}}function I(n,r){if(1&n&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.gid),t.xp6(1),t.hij(" ",e.label," ")}}const w=function(n,r,e){return["/publisher",n,"webcourse",r,"student",e]};function F(n,r){if(1&n&&(t.TgZ(0,"div",27)(1,"div",28),t._uU(2),t.qZA(),t.TgZ(3,"div",29)(4,"a",30),t._UZ(5,"span",31),t.qZA()(),t.TgZ(6,"div",32),t._uU(7),t.qZA(),t.TgZ(8,"div",32),t._uU(9),t.qZA(),t.TgZ(10,"div",33),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"div",22),t._UZ(14,"fa-icon",34),t.qZA()()),2&n){const e=r.$implicit,o=r.index,i=t.oxw(4);t.xp6(1),t.Q6J("title","ID: "+e.user_id),t.xp6(1),t.Oqu(o+1),t.xp6(2),t.Q6J("href","mailto:"+e.email,t.LSH),t.xp6(1),t.s9C("title",e.email),t.Q6J("innerHtml",e.first_name&&e.last_name?e.first_name+" "+e.last_name:e.username,t.oJD),t.xp6(2),t.Oqu(e.start_time),t.xp6(2),t.Oqu(e.last_access),t.xp6(2),t.hij("",t.xi3(12,10,e.tac/e.ta*100,"1.0-0"),"%"),t.xp6(3),t.Q6J("icon",i.faBook)("routerLink",t.kEZ(13,w,i.route.snapshot.paramMap.get("pub_id"),i.route.snapshot.paramMap.get("cid"),e.user_id))}}function b(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h1",9),t._uU(6,"Student Progress"),t.qZA(),t.YNc(7,y,2,1,"small",10),t.ALo(8,"async"),t.TgZ(9,"div",11)(10,"small",12),t._uU(11),t.ALo(12,"filter"),t.qZA()()(),t.TgZ(13,"div",13)(14,"form",14,15)(16,"select",16),t.NdJ("ngModelChange",function(i){t.CHM(e);const u=t.oxw(3);return t.KtG(u.studentReportService.selectedGroup=i)}),t.TgZ(17,"option",17),t._uU(18,"Lone Wolf"),t.qZA(),t.YNc(19,I,2,2,"option",18),t.qZA()()()()(),t.TgZ(20,"div",19)(21,"div",20)(22,"div",21)(23,"div",22),t._uU(24,"#"),t.qZA(),t.TgZ(25,"div",23),t._uU(26,"User"),t.qZA(),t.TgZ(27,"div",24),t._uU(28,"Started"),t.qZA(),t.TgZ(29,"div",24),t._uU(30,"Last Accessed"),t.qZA(),t.TgZ(31,"div",22),t._uU(32,"Done"),t.qZA(),t._UZ(33,"div",22),t.qZA(),t.YNc(34,F,15,17,"div",25),t.ALo(35,"filter"),t.qZA()()()()}if(2&n){const e=r.ngIf,o=t.MAs(15),i=t.oxw().ngIf,u=t.oxw().ngIf,l=t.oxw();t.Q6J("appThemeSetNew",e),t.xp6(7),t.Q6J("ngIf",t.lcZ(8,8,l.publisherCourseInfo$)),t.xp6(4),t.AsE("Students: ",t.xi3(12,10,u,o.value.id).length," / ",u.length,""),t.xp6(5),t.Q6J("ngModel",l.studentReportService.selectedGroup),t.xp6(1),t.Q6J("value",0),t.xp6(2),t.Q6J("ngForOf",i),t.xp6(15),t.Q6J("ngForOf",t.xi3(35,13,u,o.value.id))}}function U(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,b,36,16,"div",3),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.publisherInfo$))}}function L(n,r){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,U,3,3,"div",2),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw();t.Q6J("@fadeInOut",void 0),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,e.courseStudentGroups$))}}let G=(()=>{class n{constructor(e,o,i,u){this.route=e,this.router=o,this.webcoursesService=i,this.studentReportService=u,this.faBook=Z.FL8}ngOnInit(){this.courseStudents$=this.route.data.pipe((0,p.U)(e=>e.students)),this.courseStudentGroups$=this.route.data.pipe((0,p.U)(e=>e.studentsGroups)),this.publisherInfo$=this.route.data.pipe((0,p.U)(e=>e.publisherInfo)),this.publisherCourseInfo$=this.webcoursesService.getWebcourses(this.route.snapshot.params.cid)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(d.gz),t.Y36(d.F0),t.Y36(S.h),t.Y36(f))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-course-progress"]],decls:2,vars:3,consts:[["id","fullMainContent",4,"ngIf"],["id","fullMainContent"],[4,"ngIf"],[3,"appThemeSetNew",4,"ngIf"],[3,"appThemeSetNew"],[1,"card","mx-2"],[1,"card-header"],[1,"d-flex","justify-content-between"],[1,"align-self-top"],[1,"common-heading","mb-0"],["class","text-dark text-uppercase",4,"ngIf"],[1,"m-0","mt-md-1","mt-lg-3","text-uppercase"],[1,"font-weight-bold"],[1,"align-self-center"],["novalidate","",1,"form-group"],["group","ngForm"],["name","id",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body"],[1,"list-group"],[1,"row","mb-2","pb-3","font-weight-bold","text-uppercase","text-dark","border-bottom"],[1,"col-1"],[1,"col-5"],[1,"col-2"],["class","row my-2 handy",4,"ngFor","ngForOf"],[1,"text-dark","text-uppercase"],[1,"row","my-2","handy"],[1,"col-1","text-nowrap",3,"title"],[1,"col-5","text-nowrap"],["target","_blank",3,"href"],[1,"font-weight-bold",3,"title","innerHtml"],[1,"col-2","text-nowrap"],[1,"col-1","text-nowrap"],[2,"font-size","125%","color","cornflowerblue",3,"icon","routerLink"]],template:function(o,i){1&o&&(t.YNc(0,L,3,4,"div",0),t.ALo(1,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,i.courseStudents$))},dependencies:[a.sg,a.O5,d.rH,h.BN,c._Y,c.YN,c.Kr,c.EJ,c.JJ,c.JL,c.On,c.F,C.E,a.Ov,a.JJ,J],data:{animation:[_.t]}})}return n})(),g=(()=>{class n{constructor(e){this.localService=e}resolve(e,o){return this.localService.getCourseProgress(e.params.cid)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(f))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})(),m=(()=>{class n{constructor(e){this.localService=e}resolve(e){return this.localService.getCourseStudentsGroups(e.params.cid)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(f))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})();var x=s(6350);const Y=[{path:"",component:G,resolve:{students:g,studentsGroups:m,publisherInfo:x.p},data:{title:"Webcourse Students"}}];let Q=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[g,m,x.p],imports:[[d.Bz.forChild(Y)],a.ez,d.Bz]})}return n})();var M=s(6318);let O=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[a.ez,d.Bz,h.uH,Q,c.u5,M.O]})}return n})()}}]);