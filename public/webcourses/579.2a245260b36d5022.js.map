{"version":3,"file":"579.2a245260b36d5022.js","mappings":"uQAiBYA,gBAAkEA,kBAAOA,iCAEvEA,yKA+BNA,cAAuF,WAC7DA,SAAwCA,QAChEA,iBAGEA,SAA2DA,iBAAOA,SAAuBA,UAE3FA,cAAIA,SAAwBA,QAC5BA,cAAIA,2BAA4CA,QAChDA,eACEA,uCAAoIA,eACtIA,6DAX0EA,2BAClDA,mCACpBA,4DAGFA,+DAAkEA,kCAEhEA,6BACAA,sDAEIA,2JA3DhBA,eAAwE,UAAxEA,CAAwE,UAAxEA,CAAwE,WAKhEA,eACFA,QACAA,iBAAoB,WACFA,SAAoCA,QACpDA,eAAK,YACoCA,kBAAKA,QAC5CA,UACFA,QACAA,gBAAK,aACoCA,mBAAMA,QAC7CA,UACAA,yBACAA,4CAGFA,QACAA,gBAAK,aACoCA,oBAAOA,QAC9CA,2BACFA,cAKNA,mBAAuB,WAAvBA,CAAuB,WAAvBA,CAAuB,WAEoBA,gEAASA,4CAAsD,GAAE,GAAEA,iBAAOA,UACjHA,kBAAiBA,UAAmIA,QACpJA,kBAAsB,WAAiBA,gEAASA,4CAAsD,GAAE,GAAEA,iBAAOA,cAIrHA,qBAAmE,WAAnEA,CAAmE,QAAnEA,CAAmE,YAGtBA,cAACA,QACxCA,kBAA2BA,sBAASA,QACpCA,kBAAgCA,kBAAKA,QACrCA,kBAAgCA,oBAAOA,QACvCA,kBAAgCA,sBAASA,YAI7CA,kBACEA,0BAaFA,UAGFA,mBAAkB,wBAGdA,4DAAUA,iCACb,EADGA,CAAmD,yDAMrCA,sBAAkB,GARlCA,WASE,8CA3EuDA,2BAQrCA,+BAGdA,uDAIAA,sCACOA,0CAA4C,cAOnDA,gEASaA,sGAiBOA,4CAkBxBA,mDAAoD,gCAApDA,CAAoD,YAApDA,CAAoD,YAApDA,CAAoD,cAApDA,CAAoD,mBAApDA,CAAoD,4BChE5D,MAAMC,EAAiB,CACrB,CACEC,KAAM,GACNC,UCMoC,MAAlC,MAAOC,EAKXC,YACUC,EACAC,EACAC,GAFAC,aACAA,kBACAA,qBANHA,wBAAmC,IAAIC,KACvCD,kBAAuB,EAM1B,CAEJE,WACEF,KAAKG,YACP,CAEAA,WAAWC,EAAe,GACxBJ,KAAKF,WAAWO,IACd,GAAGL,KAAKD,cAAcO,OAAOC,IAAIV,sCAAsCG,KAAKQ,sBAAsBJ,KAClGK,UACCC,IACCV,KAAKW,mBAAmBC,KAAKF,EAAI,EAGvC,CAEIF,cACF,OAAOR,KAAKH,MAAMgB,SAASC,SAAST,IAAI,UAC1C,CAACU,kDA3BUpB,GAA2BqB,yEAA3BrB,EAA2BsB,iwBFbxC1B,iBACEA,0CA+EFA,eA/EQA,2HEUM,CAAC2B,eAEFvB,CAA2B,ODEjC,IAAMwB,EAA+B,MAAtC,MAAOA,EAA+BJ,kDAA/BI,EAA+B,sCAA/BA,IAA+BJ,wCAHhCK,cAAsB5B,GACtB4B,eAECD,CAA+B,KEI/BE,EAAwB,MAA/B,MAAOA,EAAwBN,kDAAxBM,EAAwB,sCAAxBA,IAAwBN,wCALjCO,KACAH,EACAI,eAGSF,CAAwB","names":["i0","routes","path","component","DiscountCodesUsersComponent","constructor","route","httpClient","configService","this","Subject","ngOnInit","selectPage","page","get","params","api","code_id","subscribe","data","discountCodeUsers$","next","snapshot","paramMap","static","core","selectors","FadeInOut","DiscountCodesUsersRoutingModule","RouterModule","DiscountCodesUsersModule","CommonModule","NgbPaginationModule"],"sourceRoot":"webpack:///","sources":["./src/app/pages/admin/publisher/discount-codes/discount-codes-users/discount-codes-users.component.html","./src/app/pages/admin/publisher/discount-codes/discount-codes-users/discount-codes-users-routing.module.ts","./src/app/pages/admin/publisher/discount-codes/discount-codes-users/discount-codes-users.component.ts","./src/app/pages/admin/publisher/discount-codes/discount-codes-users/discount-codes-users.module.ts"],"sourcesContent":["<div id=\"fullMainContent\" class=\"container\">\r\n  <div *ngIf=\"discountCodeUsers$ | async as discountCodeUsers\" @fadeInOut>\r\n\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-2 display-1\">\r\n          <i class='fa-sharp fa-solid fa-fingerprint text-secondary'></i>\r\n        </div>\r\n        <div class=\"col-10\">\r\n          <div class=\"h2\">{{ discountCodeUsers.course.title }}</div>\r\n          <div>\r\n            <span class=\"font-weight-bold fw-bold\">Code:</span>\r\n            {{ discountCodeUsers.code.label }} ({{ discountCodeUsers.code.code }})\r\n          </div>\r\n          <div>\r\n            <span class=\"font-weight-bold fw-bold\">Seats:</span>\r\n            {{ discountCodeUsers.code.uses }} /\r\n            <span *ngIf=\"discountCodeUsers.code.uses_max == 0; else noOfUses\">&#8734;</span>\r\n            <ng-template #noOfUses>\r\n              {{ discountCodeUsers.code.uses_max }}\r\n            </ng-template>\r\n          </div>\r\n          <div>\r\n            <span class=\"font-weight-bold fw-bold\">Expiry:</span>\r\n            {{ discountCodeUsers.code.expiry | date:'mediumDate' }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mt-5 lead\">\r\n      <ul class=\"pagination\">\r\n        <li class=\"page-item\"><a role=\"button\" (click)=\"selectPage(discountCodeUsers.code_uses.current_page - 1)\">&laquo;</a></li>\r\n        <li class=\"px-1\">Showing results {{discountCodeUsers.code_uses.from}} to {{discountCodeUsers.code_uses.to}} of {{discountCodeUsers.code_uses.total}}</li>\r\n        <li class=\"page-item\"><a role=\"button\" (click)=\"selectPage(discountCodeUsers.code_uses.current_page + 1)\">&raquo;</a></li>\r\n      </ul>\r\n    </div>\r\n\r\n    <table class=\"table table-bordered table-hover table-striped mt-1\">\r\n      <thead>\r\n        <tr>\r\n          <th class=\"text-uppercase text-center\">#</th>\r\n          <th class=\"text-uppercase\">name (id)</th>\r\n          <th class=\"text text-uppercase\">email</th>\r\n          <th class=\"text text-uppercase\">started</th>\r\n          <th class=\"text text-uppercase\">completed</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        <tr *ngFor=\"let codeUse of discountCodeUsers.code_uses.data; let i = index\" @fadeInOut>\r\n          <td class=\"text-center\">{{discountCodeUsers.code_uses.from + i}}</td>\r\n          <td [routerLink]=\"[\r\n            '/admin', 'publisher', 'course', 'user_progress', codeUse.user_progress_id\r\n          ]\">\r\n            {{ codeUse.user.first_name }} {{ codeUse.user.last_name }} <small>({{ codeUse.user.id }})</small>\r\n          </td>\r\n          <td>{{ codeUse.user.email }}</td>\r\n          <td>{{ codeUse.created_at | date:'mediumDate' }}</td>\r\n          <td>\r\n            <span [innerHtml]=\"( codeUse.completed_activities_count / discountCodeUsers.course.total_activities * 100) | number:'1.0-0'\"></span>%\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div class=\"mb-5\">\r\n      <ngb-pagination\r\n        [collectionSize]=\"discountCodeUsers.code_uses.total\"\r\n        [(page)]=\"discountCodeUsers.code_uses.current_page\"\r\n        [maxSize]=\"5\"\r\n        [rotate]=\"true\"\r\n        [ellipses]=\"false\"\r\n        [boundaryLinks]=\"true\"\r\n        [pageSize]=\"itemsPerPage\"\r\n        (pageChange)=\"selectPage($event)\"\r\n      />\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DiscountCodesUsersComponent } from './discount-codes-users.component'\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DiscountCodesUsersComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class DiscountCodesUsersRoutingModule { }\r\n","import { HttpClient } from '@angular/common/http'\r\nimport { Component, OnInit } from '@angular/core'\r\nimport { ActivatedRoute } from '@angular/router'\r\nimport { ConfigService } from 'src/app/core/services/config/config.service'\r\nimport { FadeInOut } from 'src/app/core/animations/fade-in-out.animation'\r\nimport { Subject } from 'rxjs'\r\n\r\n@Component({\r\n  selector: 'app-discount-codes-users',\r\n  templateUrl: './discount-codes-users.component.html',\r\n  styleUrls: ['./discount-codes-users.component.sass'],\r\n  animations: [FadeInOut]\r\n})\r\nexport class DiscountCodesUsersComponent implements OnInit {\r\n\r\n  public discountCodeUsers$: Subject<any> = new Subject<any>()\r\n  public itemsPerPage: number = 25; // This will make it easier to change collection size in the future\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private httpClient: HttpClient,\r\n    private configService: ConfigService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.selectPage()\r\n  }\r\n\r\n  selectPage(page: number = 1) {\r\n    this.httpClient.get<any[]>(\r\n      `${this.configService.params.api.route}/admin/publisher/access-codes/${this.code_id}/users?page=${page}`\r\n    ).subscribe(\r\n      (data) => {\r\n        this.discountCodeUsers$.next(data); // Emit the new data using the subject\r\n      }\r\n    )\r\n  }\r\n\r\n  get code_id() {\r\n    return this.route.snapshot.paramMap.get('code_id')\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DiscountCodesUsersRoutingModule } from './discount-codes-users-routing.module';\r\nimport { DiscountCodesUsersComponent } from './discount-codes-users.component';\r\n\r\nimport { NgbPaginationModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DiscountCodesUsersComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    DiscountCodesUsersRoutingModule,\r\n    NgbPaginationModule\r\n  ]\r\n})\r\nexport class DiscountCodesUsersModule { }\r\n"],"x_google_ignoreList":[]}